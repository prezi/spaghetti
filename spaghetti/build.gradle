apply plugin: "application"

dependencies {
	api project(":spaghetti-core")
	api "io.airlift:airline:0.6"
	api "ch.qos.logback:logback-classic:1.1.2"
	runtimeOnly rootProject.subprojects.findAll { it.name ==~ /spaghetti-.*-support/ }
}

mainClassName = "com.prezi.spaghetti.cli.SpaghettiCli"

build { dependsOn installDist }

configure(applicationDistribution) {
	from(rootProject.file("README.md")) {
		into "/"
	}
	from(rootProject.file("LICENSE.txt")) {
		into "/"
	}
}

distTar {
	compression Compression.GZIP
}
